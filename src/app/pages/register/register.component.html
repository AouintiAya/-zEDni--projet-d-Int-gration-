<div class="auth-page">
  <div class="form-section">
    <div class="auth-container">
      <div class="header-content">
        <h1 class="logo">Créer un compte</h1>
        <p class="subtitle">Remplissez les informations ci-dessous</p>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
        <!-- Email -->
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" formControlName="email" required />
          <span *ngIf="email?.invalid && email?.touched" class="error-message">
            Email invalide
          </span>
        </div>

        <!-- Mot de passe -->
        <div class="form-group">
          <label for="password">Mot de passe</label>
          <input type="password" id="password" formControlName="password" required />
          <span *ngIf="password?.invalid && password?.touched" class="error-message">
            Mot de passe doit contenir au moins 6 caractères
          </span>
        </div>

        <!-- Confirmer mot de passe -->
        <div class="form-group">
          <label for="confirmPassword">Confirmer mot de passe</label>
          <input type="password" id="confirmPassword" formControlName="confirmPassword" required />
          <span *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.touched" class="error-message">
            Les mots de passe ne correspondent pas
          </span>
        </div>

        <!-- Téléphone -->
        <div class="form-group">
          <label for="telephone">Numéro de téléphone</label>
          <input type="tel" id="telephone" formControlName="telephone" maxlength="8" required />
          <span *ngIf="telephone?.invalid && telephone?.touched" class="error-message">
            Numéro de téléphone invalide
          </span>
        </div>

        <!-- Rôle -->
        <div class="form-group">
          <label for="role">Rôle</label>
          <select id="role" formControlName="role" (change)="onRoleChange()">
            <option value="">-- Sélectionnez un rôle --</option>
            <option value="etudiant">Étudiant</option>
            <option value="enseignant">Enseignant</option>
          </select>
        </div>

        <!-- Code enseignant -->
        <div class="form-group" *ngIf="showProfCode">
          <label for="profCode">Code enseignant</label>
          <input type="text" id="profCode" formControlName="profCode" placeholder="Entrez le code enseignant" />
          <span *ngIf="profCode?.invalid && profCode?.touched" class="error-message">
            Code enseignant invalide
          </span>
        </div>

        <button routerLink="/login" type="submit" class="btn-submit" [disabled]="registerForm.invalid">
          S'inscrire
        </button>

        <span class="error-message" *ngIf="errorMessage">{{ errorMessage }}</span>
        <span class="success-message" *ngIf="successMessage">{{ successMessage }}</span>
      </form>

      <div class="register-section">
        <p>Déjà un compte ? <a routerLink="/login" class="register-link">Se connecter</a></p>
      </div>
    </div>
  </div>
</div>
