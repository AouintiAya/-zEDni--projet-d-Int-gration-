<div class="forgot-password-container">
  <h2>Mot de passe oublié</h2>

  <!-- Messages -->
  <p *ngIf="message" class="success">{{ message }}</p>
  <p *ngIf="error" class="error">{{ error }}</p>

  <!-- Étape 1 : Email -->
  <div class="step-container" *ngIf="step === 1">
    <form (ngSubmit)="onSubmitEmail()">
      <label for="email">Email :</label>
      <input
        type="email"
        id="email"
        [(ngModel)]="email"
        name="email"
        required
        placeholder="Entrez votre email"
      />
      <button type="submit">Envoyer le code</button>
    </form>
  </div>

  <!-- Étape 2 : Code OTP -->
  <div class="step-container" *ngIf="step === 2">
    <form (ngSubmit)="onSubmitCode()">
      <label for="otp">Code de vérification :</label>
      <input
        type="text"
        id="otp"
        [(ngModel)]="otp"
        name="otp"
        required
        placeholder="Entrez le code reçu"
      />
      <button type="submit">Vérifier le code</button>
    </form>
  </div>

  <!-- Étape 3 : Nouveau mot de passe -->
  <div class="step-container" *ngIf="step === 3">
    <form (ngSubmit)="onSubmitPassword()">
      <label for="password">Nouveau mot de passe :</label>
      <input
        type="password"
        id="password"
        [(ngModel)]="newPassword"
        name="password"
        required
        placeholder="Entrez votre nouveau mot de passe"
      />
      <button type="submit">Réinitialiser le mot de passe</button>
    </form>
  </div>
</div>
