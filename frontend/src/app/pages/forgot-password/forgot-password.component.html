<div class="forgot-password-container">
  <h2>Mot de passe oublié</h2>

  <!-- Message global -->
  <p *ngIf="message" class="success">{{ message }}</p>
  <p *ngIf="error" class="error">{{ error }}</p>

  <!-- Étape 1 : Email -->
  <form (ngSubmit)="onSubmitEmail()" *ngIf="step === 1">
    <label for="email">Email :</label>
    <input
      type="email"
      id="email"
      [(ngModel)]="email"
      name="email"
      required
      placeholder="Entrez votre email"
    />
    <button type="submit">Envoyer le code</button>
  </form>

  <!-- Étape 2 : Code OTP -->
  <form (ngSubmit)="onSubmitCode()" *ngIf="step === 2">
    <label for="otp">Code de vérification :</label>
    <input
      type="text"
      id="otp"
      [(ngModel)]="otp"
      name="otp"
      required
      placeholder="Entrez le code reçu"
    />
    <button type="submit">Vérifier le code</button>
  </form>

  <!-- Étape 3 : Nouveau mot de passe -->
  <form (ngSubmit)="onSubmitPassword()" *ngIf="step === 3">
    <label for="password">Nouveau mot de passe :</label>
    <input
      type="password"
      id="password"
      [(ngModel)]="newPassword"
      name="password"
      required
      placeholder="Entrez votre nouveau mot de passe"
    />
    <button type="submit">Réinitialiser le mot de passe</button>
  </form>
</div>
