<div class="forgot-password-container">
  <h2>Mot de passe oublié</h2>

  <!-- Étape 1 : Email -->
  <form (ngSubmit)="onSubmitEmail()" *ngIf="step === 1">
    <label for="email">Email :</label>
    <input
      type="email"
      id="email"
      [(ngModel)]="email"
      name="email"
      required
      placeholder="Entrez votre email"
    />
    <button type="submit">Envoyer le code</button>

    <p *ngIf="emailError" class="error">{{ emailError }}</p>
  </form>

  <!-- Étape 2 : Code -->
  <form (ngSubmit)="onSubmitCode()" *ngIf="step === 2">
    <label for="code">Code de vérification :</label>
    <input
      type="text"
      id="code"
      [(ngModel)]="code"
      name="code"
      required
      placeholder="Entrez le code reçu par email"
    />
    <button type="submit">Vérifier le code</button>

    <p *ngIf="codeError" class="error">{{ codeError }}</p>
  </form>

  <!-- Étape 3 : Nouveau mot de passe -->
  <form (ngSubmit)="onSubmitPassword()" *ngIf="step === 3">
    <label for="password">Nouveau mot de passe :</label>
    <input
      type="password"
      id="password"
      [(ngModel)]="password"
      name="password"
      required
      placeholder="Entrez un nouveau mot de passe"
    />
    <button type="submit">Réinitialiser</button>

    <p *ngIf="successMessage" class="success">{{ successMessage }}</p>
  </form>
</div>
