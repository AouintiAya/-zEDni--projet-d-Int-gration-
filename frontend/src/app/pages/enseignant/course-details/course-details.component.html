<div class="course-details-wrapper" *ngIf="!loading && course">
  <!-- Hero Header Section -->
  <div class="hero-header">
    <div class="hero-background" [style.backgroundImage]="'url(' + (course.imageUrl || 'assets/Angular.jpg') + ')'"></div>
    <div class="hero-overlay"></div>
    <button class="btn-back" (click)="goBack()">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      Retour
    </button>
  </div>

  <!-- Main Content Container -->
  <div class="course-details-container">
    <!-- Course Header Section -->
    <div class="course-header-section">
      <div class="course-title-group">
        <h1 class="course-title">{{ course.titre }}</h1>
        <div class="course-meta">
          <span class="meta-item">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11z"/>
            </svg>
            <strong>Enseignant:</strong> {{ course.enseignantEmail }}
          </span>
          <span class="meta-item">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
            <strong>Étudiants:</strong> {{ course.etudiantsCount || 0 }}
          </span>
          <span class="meta-item">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
            </svg>
            <strong>Ressources:</strong> {{ course.ressources?.length || 0 }}
          </span>
        </div>
      </div>
    </div>

    <!-- Description Section -->
    <div class="description-section">
      <h2 class="section-title">À propos du cours</h2>
      <p class="course-description">{{ course.description }}</p>
    </div>

    <!-- Course Stats Section -->
    <div class="stats-section">
      <div class="stat-card">
        <div class="stat-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Ressources</div>
          <div class="stat-value">{{ course.ressources?.length || 0 }}</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 9h4v4h-4zm-5-4h4v4H9zm5 9h4v4h-4zm-5-5h4v4H9z"/>
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Quiz disponibles</div>
          <div class="stat-value">-</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Examens disponibles</div>
          <div class="stat-value">-</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Progression</div>
          <div class="stat-value">0%</div>
        </div>
      </div>
    </div>

    <!-- Resources Section -->
    <div class="resources-section">
      <h2 class="section-title">Ressources du cours</h2>
      <div class="resources-container">
        <app-ressource-list [courseId]="courseId"></app-ressource-list>
      </div>
    </div>

    <!-- Action Buttons Section -->
    <div class="actions-section">
      <h2 class="section-title">Gestion du cours</h2>
      <div class="actions-buttons">
        <button class="btn btn-primary" (click)="addQuiz()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="8" x2="12" y2="16"/>
            <line x1="8" y1="12" x2="16" y2="12"/>
          </svg>
          Créer un Quiz
        </button>
        <button class="btn btn-primary" (click)="seeQuiz()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2zM22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
          </svg>
          Voir les Quiz
        </button>
        <button class="btn btn-secondary" (click)="addResource()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="8" x2="12" y2="16"/>
            <line x1="8" y1="12" x2="16" y2="12"/>
          </svg>
          Ajouter Ressource
        </button>
        <button class="btn btn-secondary" (click)="seeExam()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2zM22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
          </svg>
          Voir Examens
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Loading State -->
<div *ngIf="loading" class="loading-state">
  <div class="spinner"></div>
  <p>Chargement du cours...</p>
</div>

<!-- Empty State -->
<div *ngIf="!loading && !course" class="empty-state">
  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <circle cx="12" cy="12" r="10"/>
    <path d="M12 16v-4M12 8h.01"/>
  </svg>
  <h2>Cours introuvable</h2>
  <p>Le cours demandé n'existe pas ou a été supprimé.</p>
  <button class="btn btn-primary" (click)="goBack()">Retour à la liste</button>
</div>
