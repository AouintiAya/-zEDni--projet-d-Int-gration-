<div class="create-course-container">
  <div class="header-section">
    <h1>Créer un nouveau cours</h1>
  </div>

  <div class="content-wrapper">
    <div class="form-card">
      <form [formGroup]="coursForm" (ngSubmit)="onSubmit()">

        <!-- Titre -->
        <div class="form-group">
          <label for="titre">Titre du cours <span class="required">*</span></label>
          <input
            id="titre"
            type="text"
            formControlName="titre"
            placeholder="Ex: Introduction à Angular"
            [class.invalid]="isTitleInvalid"
          />
          <div class="error" *ngIf="isTitleInvalid">
            <span *ngIf="coursForm.get('titre')?.errors?.['required']">Le titre est requis</span>
            <span *ngIf="coursForm.get('titre')?.errors?.['minlength']">Minimum 3 caractères</span>
          </div>
        </div>

        <!-- Description -->
        <div class="form-group">
          <label for="description">Description <span class="required">*</span></label>
          <textarea
            id="description"
            formControlName="description"
            placeholder="Décrivez le contenu du cours"
            [class.invalid]="isDescriptionInvalid"
          ></textarea>
          <div class="error" *ngIf="isDescriptionInvalid">
            <span *ngIf="coursForm.get('description')?.errors?.['required']">La description est requise</span>
            <span *ngIf="coursForm.get('description')?.errors?.['minlength']">Minimum 10 caractères</span>
          </div>
        </div>

        <!-- Image Upload -->
        <div class="form-group">
          <label for="imageFile">Image du cours</label>
          <input
            type="file"
            id="imageFile"
            (change)="onFileSelected($event)"
            accept="image/*"
          />
          <div class="preview" *ngIf="selectedFile">
            <p>Prévisualisation :</p>
            <img [src]="selectedFilePreview" alt="Prévisualisation de l'image" />
          </div>
        </div>

        <!-- Submit -->
        <button type="submit" [disabled]="isSubmitting">
          <span *ngIf="!isSubmitting">Créer le cours</span>
          <span *ngIf="isSubmitting">Création en cours...</span>
        </button>
      </form>
    </div>
  </div>
</div>
