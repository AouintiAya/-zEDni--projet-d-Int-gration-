<div class="ressource-detail-wrapper">
  <!-- Navigation Header -->
  <div class="header-navigation">
    <button class="btn-back" (click)="goBack()">
      <svg class="icon-back" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M19 12H5M12 19l-7-7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Retour
    </button>
  </div>

  <!-- Main Content -->
  <div class="detail-container" *ngIf="ressource">
    <!-- Header Section -->
    <div class="header-section">
      <div class="header-content">
        <div class="resource-meta">
          <span class="resource-type-badge" [ngClass]="'type-' + ressource.type">
            {{ ressource.type }}
          </span>
        </div>
        <h1 class="resource-title">{{ ressource.titre }}</h1>
        <p class="resource-description">Ressource p√©dagogique - Type: <strong>{{ ressource.type }}</strong></p>
      </div>
    </div>

    <!-- Content Section -->
    <div class="content-section">
      
      <!-- PDF Viewer -->
      <div *ngIf="ressource.type === 'PDF'" class="viewer-container pdf-viewer">
        <div class="viewer-header">
          <h3>Visualisation du PDF</h3>
          <a [href]="ressource.url" download class="btn-download-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
            T√©l√©charger
          </a>
        </div>
        <iframe [src]="ressource.url" class="pdf-frame"></iframe>
      </div>

      <!-- Video Player -->
      <div *ngIf="ressource.type === 'Vid√©o'" class="viewer-container video-viewer">
        <div class="viewer-header">
          <h3>Lecture vid√©o</h3>
        </div>
        <div class="video-container">
          <iframe 
            [src]="ressource.url"
            class="video-frame"
            allowfullscreen
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture">
          </iframe>
        </div>
      </div>

      <!-- Document Download -->
      <div *ngIf="ressource.type === 'Document'" class="viewer-container document-viewer">
        <div class="document-card">
          <div class="document-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
            </svg>
          </div>
          <div class="document-info">
            <h3>{{ ressource.fileName }}</h3>
            <p>Document √† t√©l√©charger</p>
          </div>
          <a [href]="ressource.url" download class="btn-download">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
            T√©l√©charger
          </a>
        </div>
      </div>

      <!-- External Link -->
      <div *ngIf="ressource.type === 'Lien'" class="viewer-container link-viewer">
        <div class="link-card">
          <div class="link-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
            </svg>
          </div>
          <div class="link-info">
            <h3>Lien externe</h3>
            <p class="link-url">{{ ressource.url }}</p>
          </div>
          <a [href]="ressource.url" target="_blank" class="btn-open-link">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM11 3v2h3.59l-9.83 9.83l1.41 1.41L16 6.41V10h2V3h-7z"/>
            </svg>
            Ouvrir le lien
          </a>
        </div>
      </div>

    </div>

    <!-- Info Section -->
    <div class="info-section">
      <div class="info-card">
        <h4>√Ä propos de cette ressource</h4>
        <ul class="info-list">
          <li>
            <span class="info-label">Type:</span>
            <span class="info-value">{{ ressource.type }}</span>
          </li>
          <li>
            <span class="info-label">Titre:</span>
            <span class="info-value">{{ ressource.titre }}</span>
          </li>
        </ul>
      </div>
    </div>

  </div>

  <!-- Empty State -->
  <div *ngIf="!ressource" class="empty-state">
    <div class="empty-icon">üìÅ</div>
    <h3>Ressource non trouv√©e</h3>
    <p>La ressource que vous cherchez n'existe pas.</p>
  </div>
</div>
